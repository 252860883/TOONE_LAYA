var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

/**This class is automatically generated by LayaAirIDE, please do not make any modifications. */

var GameConfig = function () {
    function GameConfig() {
        _classCallCheck(this, GameConfig);
    }

    _createClass(GameConfig, null, [{
        key: "init",
        value: function init() {
            //注册Script或者Runtime引用
            var reg = Laya.ClassUtils.regClass;
        }
    }]);

    return GameConfig;
}();

exports.default = GameConfig;

GameConfig.width = 640;
GameConfig.height = 1136;
GameConfig.scaleMode = "fixedwidth";
GameConfig.screenMode = "none";
GameConfig.alignV = "top";
GameConfig.alignH = "left";
GameConfig.startScene = "";
GameConfig.sceneRoot = "";
GameConfig.debug = false;
GameConfig.stat = false;
GameConfig.physicsDebug = false;
GameConfig.exportSceneToJson = true;

GameConfig.init();

},{}],2:[function(require,module,exports){
"use strict";

var _drawPlace = require("./draw/drawPlace");

var _drawPlace2 = _interopRequireDefault(_drawPlace);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

(function () {
    var Sprite = Laya.Sprite;
    var Stage = Laya.Stage;
    var Texture = Laya.Texture;
    var Browser = Laya.Browser;
    var Handler = Laya.Handler;
    var WebGL = Laya.WebGL;
    var Event = Laya.Event;
    var Loader = Laya.Loader;
    var SoundManager = Laya.SoundManager;

    // var pageWidth  = Browser.clientWidth;
    // var pageHeight = Browser.clientHeight;
    var pageWidth = 750;
    var pageHeight = 1334;
    var loadBG, loadTiao;

    (function () {
        // 不支持WebGL时自动切换至Canvas
        Laya.init(pageWidth, pageHeight, WebGL);
        //性能统计面板的调用
        //Laya.Stat.show(0,0);
        Laya.stage.alignV = Stage.ALIGN_MIDDLE;
        Laya.stage.alignH = Stage.ALIGN_CENTER;
        Laya.stage.screenAdaptationEnabled = false;
        Laya.stage.scaleMode = "fixedwidth";
        Laya.stage.bgColor = "#4c58ae";
        downLoadMedia();
    })();

    // 加载文件以及滚动条
    function downLoadMedia() {
        //加载静态文件资源
        var assets = ['assets/comp/btn_close.png'];
        // 加载images下的文件
        var imgNames = ['item-0-active.png', 'item-0.png', 'item-1-active.png', 'item-1-lock.png', 'item-1.png', 'refresh_btn.png', 'return_btn.png'];
        imgNames.map(function (item) {
            assets.push({
                url: 'assets/images/' + item,
                type: Loader.IMAGE // type类型一定要加！！
            });
        });
        // console.log(assets)
        //加载
        Laya.loader.load(assets, Handler.create(this, init), Handler.create(this, onLoading, null, false), Loader.TEXT);
        // 侦听加载失败
        Laya.loader.on(Event.ERROR, this, onError);

        /////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
        //绘制进度条
        loadBG = new Sprite();
        Laya.stage.addChild(loadBG);
        var path = [["moveTo", 8, 0], //画笔的起始点，
        ["arcTo", 0, 0, 0, 8, 8], //p1（500,0）为夹角B，（500,30）为端点p2
        ["arcTo", 0, 16, 8, 16, 8], ["lineTo", 200, 16], ["arcTo", 208, 16, 208, 8, 8], ["arcTo", 208, 0, 200, 0, 8], ["lineTo", 8, 0]];
        //绘制圆角矩形
        loadBG.graphics.drawPath((pageWidth - 208) / 2, Math.round(pageHeight / 2.5) - 10, path, { fillStyle: "#cbefff" });
        loadTiao = new Sprite();
        Laya.stage.addChild(loadTiao);
        var path = [["moveTo", 4, 0], //画笔的起始点，
        ["arcTo", 0, 0, 0, 4, 4], //p1（500,0）为夹角B，（500,30）为端点p2
        ["arcTo", 0, 8, 4, 8, 4], ["lineTo", 4, 8], ["arcTo", 8, 8, 8, 4, 4], ["arcTo", 8, 0, 4, 0, 4], ["lineTo", 4, 0]];
        loadTiao.graphics.drawPath((pageWidth - 208) / 2 + 4, Math.round(pageHeight / 2.5) - 6, path, { fillStyle: "#4892b3" });
    }

    //加载静态资源完成，开始初始化游戏
    function init() {
        clearLoading();
        console.log('初始化游戏');
        console.log(_drawPlace2.default);
        new _drawPlace2.default();
        // Laya.stage.on(Event.KEY_DOWN, this, function(){
        //     console.log('按下了')
        // });

        // 播放bgm
        // SoundManager.playMusic("http://p70gzm2sm.bkt.clouddn.com/troughts.mp3", 1, new Handler(this, onComplete));
    }

    // 
    function onComplete() {
        console.log("播放完成");
    }

    // 加载进度侦听器
    function onLoading(progress) {
        progress = Math.round(progress * 100);
        //console.log("加载进度: " + progress);
        // loadTiao.graphics.clear();
        var OnePercent = (192 - 4) / 100; //每百分之一进度的距离
        var addPercent = Math.round(progress * OnePercent); //需要增加的百分比
        var path = [["moveTo", 4, 0], //画笔的起始点，
        ["arcTo", 0, 0, 0, 4, 4], //p1（500,0）为夹角B，（500,30）为端点p2
        ["arcTo", 0, 8, 4, 8, 4], ["lineTo", 192, 8], ["arcTo", 200, 8, 200, 4, 4], ["arcTo", 200, 0, 192, 0, 4], ["lineTo", 4, 0]];
        var path = [["moveTo", 4, 0], //画笔的起始点，
        ["arcTo", 0, 0, 0, 4, 4], //p1（500,0）为夹角B，（500,30）为端点p2
        ["arcTo", 0, 8, 4, 8, 4], ["lineTo", 4 + addPercent, 8], ["arcTo", 8 + addPercent, 8, 8 + addPercent, 4, 4], ["arcTo", 8 + addPercent, 0, 4 + addPercent, 0, 4], ["lineTo", 4, 0]];
        loadTiao.graphics.drawPath((pageWidth - 208) / 2 + 4, Math.round(pageHeight / 2.5) - 6, path, { fillStyle: "#4892b3" });
    }

    // 清除滚动条
    function clearLoading() {
        loadTiao.graphics.clear();
        loadBG.graphics.clear();
    }

    //打印加载失败日志
    function onError(err) {
        console.log("加载失败: " + err);
    }
})();

},{"./draw/drawPlace":3}],3:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); // 创建主游戏场景


var _graphics = require("../lib/graphics");

var _graphics2 = _interopRequireDefault(_graphics);

var _GameConfig = require("../GameConfig");

var _GameConfig2 = _interopRequireDefault(_GameConfig);

var _gameData = require("../lib/gameData");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Sprite = Laya.Sprite;
var Stage = Laya.Stage;
var Browser = Laya.Browser;
var Handler = Laya.Handler;
var WebGL = Laya.WebGL;
var Event = Laya.Event;
var Loader = Laya.Loader;
var Tween = Laya.Tween;
var Ease = Laya.Ease;

var DrawGame = function () {
    function DrawGame() {
        _classCallCheck(this, DrawGame);

        // 绘图相关的属性
        this.x = 40;
        this.y = 300;
        this.col = 4;
        this.row = 4;
        this.gab = 20;
        this.tWidth = 750 - 2 * this.x; //桌面宽度
        this.iWidth = (this.tWidth - (this.row + 1) * this.gab) / this.row; //单个的高度
        this.tHeight = this.iWidth * this.col + (this.col + 1) * this.gab;
        // this.spItem;
        this.itemsSprite = []; //存放宫格的Sprite

        // 游戏数据
        this.num = '011010011001101010001010110101010100001010101001010010101010100101010101010101010101010101';
        this.numData = (0, _gameData.getNum)(this.num);

        this.arr = [];
        this.pNow = [0, 0];

        // 游戏交互
        this.startP = [];
        // 运行
        this.init();
    }

    _createClass(DrawGame, [{
        key: "init",
        value: function init() {
            console.log('执行init');
            this.drawPlace();
            for (var i = 0; i < this.col; i++) {
                this.arr[i] = [];
                this.itemsSprite[i] = [];
                for (var j = 0; j < this.row; j++) {
                    this.arr[i][j] = this.numData[i * this.row + j];
                    // 创建宫格舞台
                    this.itemsSprite[i][j] = new Sprite();
                    Laya.stage.addChild(this.itemsSprite[i][j]);
                }
            }
            // console.log(this.arr)
            this.drawTable(true);
            this.drawTopButton();
        }
        /**
         * 绘制画布
         */

        // 画背景图

    }, {
        key: "drawPlace",
        value: function drawPlace() {
            console.log('执行draw');
            var bg = new Laya.Sprite();
            bg.size(this.tWidth, this.tHeight * 2); //一定要设置size才能监控事件 
            Laya.stage.addChild(bg);
            // 画圆角矩形
            bg.graphics.alpha(0.8);
            _graphics2.default.drawRoundedRectangle(bg, this.x, this.y, this.tWidth, this.tHeight, this.gab, '#412873');
            // 绑定事件
            // bg.on()
            bg.on(Event.MOUSE_MOVE, this, this.onMouseMove);
            bg.on(Event.MOUSE_DOWN, this, this.onMouseDown);
            bg.on(Event.MOUSE_UP, this, this.onMouseUp);
            //添加键盘抬起事件
            Laya.stage.on(Event.KEY_UP, this, this.onKeyUp);9;
        }

        // 画顶部按钮

    }, {
        key: "drawTopButton",
        value: function drawTopButton() {
            var topSp = new Sprite();
            Laya.stage.addChild(topSp);
            topSp.graphics.drawRect(0, 0, 750, 120, "#4d2f8a");
            // 绘制刷新按钮
            var refreshSp = new Sprite();
            Laya.stage.addChild(refreshSp);
            this.refresh;
            refreshSp.loadImage('assets/images/refresh_btn.png');
            refreshSp.pos(645, 15);
            refreshSp.size(90, 90);
            refreshSp.on('click', this, this.refresh);

            var returnSp = new Sprite();
            Laya.stage.addChild(returnSp);
            returnSp.loadImage('assets/images/return_btn.png');
            returnSp.pos(15, 15);
            returnSp.size(90, 90);
            returnSp.on('click', this, function () {
                console.log('点我！aa');
            });
        }

        // 画宫格

    }, {
        key: "drawTable",
        value: function drawTable() {
            var _this = this;

            var first = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;

            for (var i = 0; i < this.col; i++) {
                for (var j = 0; j < this.row; j++) {
                    var x = this.x + j * (this.iWidth + this.gab) + this.gab,
                        y = this.y + i * (this.iWidth + this.gab) + this.gab;
                    var url = "";
                    if (j == this.pNow[0] && i == this.pNow[1]) {
                        url = this.arr[i][j].num == '0' ? 'assets/images/item-0-active.png' : 'assets/images/item-1-active.png';
                    } else if (this.arr[i][j].isUsed) {
                        url = 'assets/images/item-1-lock.png';
                    } else {
                        url = this.arr[i][j].num == '0' ? 'assets/images/item-0.png' : 'assets/images/item-1.png';
                    }
                    this.itemsSprite[i][j].graphics.clear();
                    // DRAW.drawRoundedRectangle(this.spItem, x, y, this.iWidth, this.iWidth, 15, color)
                    this.itemsSprite[i][j].loadImage(url);
                    this.itemsSprite[i][j].pos(x, y);
                    this.itemsSprite[i][j].size(this.iWidth, this.iWidth);

                    // 动画
                    // target:*, props:Object, duration:int, ease:Function = null, complete:Handler = null, delay:int = 0, coverBefore:Boolean = false
                    if (first) {
                        this.itemsSprite[i][j].alpha = 0;
                        Tween.from(this.itemsSprite[i][j], {
                            // scale: (0.5,0.5,200,200)
                            // y:10
                            scaleY: 0,
                            scaleX: 0,
                            pivotX: this.iWidth * 0.5,
                            pivotY: this.iWidth * 0.5,
                            alpha: 0
                        }, 250, Ease.expoOut, null, i * 100 * this.row + j * 100);

                        Tween.to(this.itemsSprite[i][j], {
                            scaleY: 1,
                            scaleX: 1,
                            alpha: 1
                        }, 250, Ease.expoOut, null, i * 100 * this.row + j * 100);
                    }
                }
            }
            setTimeout(function () {
                _this.judgeSuccess();
            }, 100);
        }

        /**
         * 键盘事件
         */

    }, {
        key: "onKeyUp",
        value: function onKeyUp(e) {
            // delete keyDownList[e["keyCode"]];
            var direction = "";
            switch (e.keyCode) {
                case 37:
                    direction = 'left';break;
                case 38:
                    direction = 'top';break;
                case 39:
                    direction = 'right';break;
                case 40:
                    direction = 'down';break;
            }
            console.log('direction is ' + direction);
            if (direction) this.moveBlock(direction);
        }

        /**
         * 手机滑动事件
         */

    }, {
        key: "onMouseDown",
        value: function onMouseDown(params) {
            this.startP = [Laya.stage.mouseX, Laya.stage.mouseY];
        }
    }, {
        key: "onMouseUp",
        value: function onMouseUp() {
            var endP = [Laya.stage.mouseX, Laya.stage.mouseY];
            var direction = "";
            var moveX = endP[0] - this.startP[0];
            var moveY = endP[1] - this.startP[1];
            if (Math.abs(moveX) > Math.abs(moveY)) {
                if (Math.abs(moveX) > 80) direction = moveX > 0 ? 'right' : 'left';
            } else {
                if (Math.abs(moveY) > 80) direction = moveY > 0 ? 'down' : 'top';
            }
            console.log(direction, moveX, moveY);
            if (direction) this.moveBlock(direction);
        }
    }, {
        key: "onMouseMove",
        value: function onMouseMove(e) {}
        // console.log(e)
        // console.log(Laya.stage.mouseX)


        /**
         * 逻辑处理
         */

    }, {
        key: "moveBlock",
        value: function moveBlock(direction) {

            var b = this.pNow[0],
                a = this.pNow[1];
            // this.arr[a][b] = this.arr[a][b] == "1" ? "0" : "1";
            if (direction == "down") {
                if (this.pNow[1] >= this.col - 1) {
                    return;
                }
                this.pNow[1]++;
            } else if (direction == "top") {
                if (this.pNow[1] <= 0) {
                    return;
                }
                this.pNow[1]--;
            } else if (direction == "right") {
                if (this.pNow[0] >= this.row - 1) {
                    return;
                }
                this.pNow[0]++;
            } else if (direction == "left") {
                if (this.pNow[0] <= 0) {
                    return;
                }
                this.pNow[0]--;
            }

            var j = this.pNow[0],
                i = this.pNow[1];
            if (this.arr[i][j].isUsed) {
                this.pNow[0] = b;
                this.pNow[1] = a;
                return;
            }

            this.arr[i][j].num = this.arr[i][j].num == "1" ? "0" : "1";
            this.arr[i][j].isUsed = this.arr[i][j].num == "1" ? true : false;
            this.drawTable();
        }
        // 判断是否失败以及成功

    }, {
        key: "judgeSuccess",
        value: function judgeSuccess() {
            // 判断是否赢了的逻辑
            var isWin = this.arr.every(function (items) {
                return items.every(function (item) {
                    return item.num == '1';
                });
            });
            if (isWin) {
                alert('你赢了！');
                this.refresh();
            } else {
                // 验证是否失败
                var j = this.pNow[0],
                    i = this.pNow[1];
                if (i + 1 < this.col && !this.arr[i + 1][j].isUsed || j + 1 < this.row && !this.arr[i][j + 1].isUsed || i - 1 >= 0 && !this.arr[i - 1][j].isUsed || j - 1 >= 0 && !this.arr[i][j - 1].isUsed) {
                    return;
                } else {
                    alert('你输了！');
                }
            }
        }

        // 重置游戏

    }, {
        key: "refresh",
        value: function refresh() {
            this.pNow = [0, 0];
            this.numData = (0, _gameData.getNum)(this.num);
            for (var i = 0; i < this.col; i++) {
                this.arr[i] = [];
                for (var j = 0; j < this.row; j++) {
                    // this.arr[i][j] = this.num.slice(i * this.row + j, i * this.row + j + 1);
                    this.arr[i][j] = this.numData[i * this.row + j];
                }
            }
            this.drawTable(true);
        }
    }]);

    return DrawGame;
}();

exports.default = DrawGame;

},{"../GameConfig":1,"../lib/gameData":4,"../lib/graphics":5}],4:[function(require,module,exports){
'use strict';

function getNum(num) {
    var arr = num.split('');
    return arr.map(function (item) {
        return {
            num: item,
            isUsed: false
        };
    });
}

module.exports = {
    getNum: getNum
};

},{}],5:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
    value: true
});
// 封装各种形状
exports.default = {
    /**
     * @param sp Sprite实例
     * @param x 起始x坐标
     * @param y 起始y坐标
     * @param width 总长
     * @param height 总高
     * @param r 圆角半径
     * @param options 配置项
     */
    drawRoundedRectangle: function drawRoundedRectangle(sp, x, y, width, height, r, fill) {
        var relWidth = width - 2 * r;
        var relHeight = height - 2 * r;
        sp.graphics.drawPath(x, y, [["moveTo", r, 0], ["lineTo", width - r, 0], ["arcTo", width, 0, width, r, r], ["lineTo", width, height - r], ["arcTo", width, height, width - r, height, r], ["lineTo", r, height], ["arcTo", 0, height, 0, height - r, r], ["lineTo", 0, r], ["arcTo", 0, 0, r, 0, r], ["closePath"]], {
            fillStyle: fill || '#ff0000'
        });
    }
};

},{}]},{},[2])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL0FwcGxpY2F0aW9ucy9MYXlhQWlySURFX2JldGEuYXBwL0NvbnRlbnRzL1Jlc291cmNlcy9hcHAvbm9kZV9tb2R1bGVzL2Jyb3dzZXItcGFjay9fcHJlbHVkZS5qcyIsInNyYy9HYW1lQ29uZmlnLmpzIiwic3JjL01haW4uanMiLCJzcmMvZHJhdy9kcmF3UGxhY2UuanMiLCJzcmMvbGliL2dhbWVEYXRhLmpzIiwic3JjL2xpYi9ncmFwaGljcy5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7Ozs7Ozs7OztBQ1ZBOztJQUdxQixVOzs7Ozs7OytCQUNIO0FBQ1Y7QUFDQSxnQkFBSSxNQUFNLEtBQUssVUFBTCxDQUFnQixRQUExQjtBQUVIOzs7Ozs7a0JBTGdCLFU7O0FBT3JCLFdBQVcsS0FBWCxHQUFtQixHQUFuQjtBQUNBLFdBQVcsTUFBWCxHQUFvQixJQUFwQjtBQUNBLFdBQVcsU0FBWCxHQUFzQixZQUF0QjtBQUNBLFdBQVcsVUFBWCxHQUF3QixNQUF4QjtBQUNBLFdBQVcsTUFBWCxHQUFvQixLQUFwQjtBQUNBLFdBQVcsTUFBWCxHQUFvQixNQUFwQjtBQUNBLFdBQVcsVUFBWCxHQUF3QixFQUF4QjtBQUNBLFdBQVcsU0FBWCxHQUF1QixFQUF2QjtBQUNBLFdBQVcsS0FBWCxHQUFtQixLQUFuQjtBQUNBLFdBQVcsSUFBWCxHQUFrQixLQUFsQjtBQUNBLFdBQVcsWUFBWCxHQUEwQixLQUExQjtBQUNBLFdBQVcsaUJBQVgsR0FBK0IsSUFBL0I7O0FBRUEsV0FBVyxJQUFYOzs7OztBQ3ZCQTs7Ozs7O0FBRUEsQ0FBQyxZQUFZO0FBQ1QsUUFBSSxTQUFTLEtBQUssTUFBbEI7QUFDQSxRQUFJLFFBQVEsS0FBSyxLQUFqQjtBQUNBLFFBQUksVUFBVSxLQUFLLE9BQW5CO0FBQ0EsUUFBSSxVQUFVLEtBQUssT0FBbkI7QUFDQSxRQUFJ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QyxPQUFELEVBQVUsS0FBVixFQUFpQixNQUFqQixFQUF5QixRQUFRLENBQWpDLEVBQW9DLE1BQXBDLEVBQTRDLENBQTVDLENBTHVCLEVBTXZCLENBQUMsUUFBRCxFQUFXLENBQVgsRUFBYyxNQUFkLENBTnVCLEVBT3ZCLENBQUMsT0FBRCxFQUFVLENBQVYsRUFBYSxNQUFiLEVBQXFCLENBQXJCLEVBQXdCLFNBQVMsQ0FBakMsRUFBb0MsQ0FBcEMsQ0FQdUIsRUFRdkIsQ0FBQyxRQUFELEVBQVcsQ0FBWCxFQUFjLENBQWQsQ0FSdUIsRUFTdkIsQ0FBQyxPQUFELEVBQVUsQ0FBVixFQUFhLENBQWIsRUFBZ0IsQ0FBaEIsRUFBbUIsQ0FBbkIsRUFBc0IsQ0FBdEIsQ0FUdUIsRUFVdkIsQ0FBQyxXQUFELENBVnVCLENBQTNCLEVBV0c7QUFDQyx1QkFBVSxRQUFNO0FBRGpCLFNBWEg7QUFjSDtBQTNCVSxDIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7XHJcbiAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikge1xyXG4gICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xyXG4gICAgfTtcclxufSkoKTtcclxuKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSIsIi8qKlRoaXMgY2xhc3MgaXMgYXV0b21hdGljYWxseSBnZW5lcmF0ZWQgYnkgTGF5YUFpcklERSwgcGxlYXNlIGRvIG5vdCBtYWtlIGFueSBtb2RpZmljYXRpb25zLiAqL1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdhbWVDb25maWcge1xyXG4gICAgc3RhdGljIGluaXQoKSB7XHJcbiAgICAgICAgLy/ms6jlhoxTY3JpcHTmiJbogIVSdW50aW1l5byV55SoXHJcbiAgICAgICAgbGV0IHJlZyA9IExheWEuQ2xhc3NVdGlscy5yZWdDbGFzcztcclxuXHJcbiAgICB9XHJcbn1cclxuR2FtZUNvbmZpZy53aWR0aCA9IDY0MDtcclxuR2FtZUNvbmZpZy5oZWlnaHQgPSAxMTM2O1xyXG5HYW1lQ29uZmlnLnNjYWxlTW9kZSA9XCJmaXhlZHdpZHRoXCI7XHJcbkdhbWVDb25maWcuc2NyZWVuTW9kZSA9IFwibm9uZVwiO1xyXG5HYW1lQ29uZmlnLmFsaWduViA9IFwidG9wXCI7XHJcbkdhbWVDb25maWcuYWxpZ25IID0gXCJsZWZ0XCI7XHJcbkdhbWVDb25maWcuc3RhcnRTY2VuZSA9IFwiXCI7XHJcbkdhbWVDb25maWcuc2NlbmVSb290ID0gXCJcIjtcclxuR2FtZUNvbmZpZy5kZWJ1ZyA9IGZhbHNlO1xyXG5HYW1lQ29uZmlnLnN0YXQgPSBmYWxzZTtcclxuR2FtZUNvbmZpZy5waHlzaWNzRGVidWcgPSBmYWxzZTtcclxuR2FtZUNvbmZpZy5leHBvcnRTY2VuZVRvSnNvbiA9IHRydWU7XHJcblxyXG5HYW1lQ29uZmlnLmluaXQoKTtcclxuIiwiaW1wb3J0IERyYXdHYW1lIGZyb20gJy4vZHJhdy9kcmF3UGxhY2UnXHJcblxyXG4oZnVuY3Rpb24gKCkge1xyXG4gICAgdmFyIFNwcml0ZSA9IExheWEuU3ByaXRlO1xyXG4gICAgdmFyIFN0YWdlID0gTGF5YS5TdGFnZTtcclxuICAgIHZhciBUZXh0dXJlID0gTGF5YS5UZXh0dXJlO1xyXG4gICAgdmFyIEJyb3dzZXIgPSBMYXlhLkJyb3dzZXI7XHJcbiAgICB2YXIgSGFuZGxlciA9IExheWEuSGFuZGxlcjtcclxuICAgIHZhciBXZWJHTCA9IExheWEuV2ViR0w7XHJcbiAgICB2YXIgRXZlbnQgPSBMYXlhLkV2ZW50O1xyXG4gICAgdmFyIExvYWRlciA9IExheWEuTG9hZGVyO1xyXG4gICAgdmFyIFNvdW5kTWFuYWdlciA9IExheWEuU291bmRNYW5hZ2VyO1xyXG5cclxuICAgIC8vIHZhciBwYWdlV2lkdGggID0gQnJvd3Nlci5jbGllbnRXaWR0aDtcclxuICAgIC8vIHZhciBwYWdlSGVpZ2h0ID0gQnJvd3Nlci5jbGllbnRIZWlnaHQ7XHJcbiAgICB2YXIgcGFnZVdpZHRoID0gNzUwO1xyXG4gICAgdmFyIHBhZ2VIZWlnaHQgPSAxMzM0O1xyXG4gICAgdmFyIGxvYWRCRywgbG9hZFRpYW87XHJcblxyXG4gICAgKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyDkuI3mlK/mjIFXZWJHTOaXtuiHquWKqOWIh+aNouiHs0NhbnZhc1xyXG4gICAgICAgIExheWEuaW5pdChwYWdlV2lkdGgsIHBhZ2VIZWlnaHQsIFdlYkdMKTtcclxuICAgICAgICAvL+aAp+iDvee7n+iuoemdouadv+eahOiwg+eUqFxyXG4gICAgICAgIC8vTGF5YS5TdGF0LnNob3coMCwwKTtcclxuICAgICAgICBMYXlhLnN0YWdlLmFsaWduViA9IFN0YWdlLkFMSUdOX01JRERMRTtcclxuICAgICAgICBMYXlhLnN0YWdlLmFsaWduSCA9IFN0YWdlLkFMSUdOX0NFTlRFUjtcclxuICAgICAgICBMYXlhLnN0YWdlLnNjcmVlbkFkYXB0YXRpb25FbmFibGVkID0gZmFsc2U7XHJcbiAgICAgICAgTGF5YS5zdGFnZS5zY2FsZU1vZGUgPSBcImZpeGVkd2lkdGhcIjtcclxuICAgICAgICBMYXlhLnN0YWdlLmJnQ29sb3IgPSBcIiM0YzU4YWVcIjtcclxuICAgICAgICBkb3duTG9hZE1lZGlhKClcclxuICAgIH0pKCk7XHJcblxyXG4gICAgLy8g5Yqg6L295paH5Lu25Lul5Y+K5rua5Yqo5p2hXHJcbiAgICBmdW5jdGlvbiBkb3duTG9hZE1lZGlhKCkge1xyXG4gICAgICAgIC8v5Yqg6L296Z2Z5oCB5paH5Lu26LWE5rqQXHJcbiAgICAgICAgdmFyIGFzc2V0cyA9IFsnYXNzZXRzL2NvbXAvYnRuX2Nsb3NlLnBuZyddO1xyXG4gICAgICAgIC8vIOWKoOi9vWltYWdlc+S4i+eahOaWh+S7tlxyXG4gICAgICAgIGxldCBpbWdOYW1lcyA9IFsnaXRlbS0wLWFjdGl2ZS5wbmcnLCAnaXRlbS0wLnBuZycsICdpdGVtLTEtYWN0aXZlLnBuZycsICdpdGVtLTEtbG9jay5wbmcnLCAnaXRlbS0xLnBuZycsJ3JlZnJlc2hfYnRuLnBuZycsJ3JldHVybl9idG4ucG5nJ107XHJcbiAgICAgICAgaW1nTmFtZXMubWFwKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICBhc3NldHMucHVzaCh7XHJcbiAgICAgICAgICAgICAgICB1cmw6ICdhc3NldHMvaW1hZ2VzLycgKyBpdGVtLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogTG9hZGVyLklNQUdFICAvLyB0eXBl57G75Z6L5LiA5a6a6KaB5Yqg77yB77yBXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coYXNzZXRzKVxyXG4gICAgICAgIC8v5Yqg6L29XHJcbiAgICAgICAgTGF5YS5sb2FkZXIubG9hZChhc3NldHMsIEhhbmRsZXIuY3JlYXRlKHRoaXMsIGluaXQpLCBIYW5kbGVyLmNyZWF0ZSh0aGlzLCBvbkxvYWRpbmcsIG51bGwsIGZhbHNlKSwgTG9hZGVyLlRFWFQpO1xyXG4gICAgICAgIC8vIOS+puWQrOWKoOi9veWksei0pVxyXG4gICAgICAgIExheWEubG9hZGVyLm9uKEV2ZW50LkVSUk9SLCB0aGlzLCBvbkVycm9yKTtcclxuXHJcbiAgICAgICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xyXG4gICAgICAgIC8v57uY5Yi26L+b5bqm5p2hXHJcbiAgICAgICAgbG9hZEJHID0gbmV3IFNwcml0ZSgpO1xyXG4gICAgICAgIExheWEuc3RhZ2UuYWRkQ2hpbGQobG9hZEJHKTtcclxuICAgICAgICB2YXIgcGF0aCA9IFtcclxuICAgICAgICAgICAgW1wibW92ZVRvXCIsIDgsIDBdLCAvL+eUu+eslOeahOi1t+Wni+eCue+8jFxyXG4gICAgICAgICAgICBbXCJhcmNUb1wiLCAwLCAwLCAwLCA4LCA4XSwgLy9wMe+8iDUwMCww77yJ5Li65aS56KeSQu+8jO+8iDUwMCwzMO+8ieS4uuerr+eCuXAyXHJcbiAgICAgICAgICAgIFtcImFyY1RvXCIsIDAsIDE2LCA4LCAxNiwgOF0sXHJcbiAgICAgICAgICAgIFtcImxpbmVUb1wiLCAyMDAsIDE2XSxcclxuICAgICAgICAgICAgW1wiYXJjVG9cIiwgMjA4LCAxNiwgMjA4LCA4LCA4XSxcclxuICAgICAgICAgICAgW1wiYXJjVG9cIiwgMjA4LCAwLCAyMDAsIDAsIDhdLFxyXG4gICAgICAgICAgICBbXCJsaW5lVG9cIiwgOCwgMF1cclxuICAgICAgICBdO1xyXG4gICAgICAgIC8v57uY5Yi25ZyG6KeS55+p5b2iXHJcbiAgICAgICAgbG9hZEJHLmdyYXBoaWNzLmRyYXdQYXRoKChwYWdlV2lkdGggLSAyMDgpIC8gMiwgTWF0aC5yb3VuZChwYWdlSGVpZ2h0IC8gMi41KSAtIDEwLCBwYXRoLCB7IGZpbGxTdHlsZTogXCIjY2JlZmZmXCIgfSk7XHJcbiAgICAgICAgbG9hZFRpYW8gPSBuZXcgU3ByaXRlKCk7XHJcbiAgICAgICAgTGF5YS5zdGFnZS5hZGRDaGlsZChsb2FkVGlhbyk7XHJcbiAgICAgICAgdmFyIHBhdGggPSBbXHJcbiAgICAgICAgICAgIFtcIm1vdmVUb1wiLCA0LCAwXSwgLy/nlLvnrJTnmoTotbflp4vngrnvvIxcclxuICAgICAgICAgICAgW1wiYXJjVG9cIiwgMCwgMCwgMCwgNCwgNF0sIC8vcDHvvIg1MDAsMO+8ieS4uuWkueinkkLvvIzvvIg1MDAsMzDvvInkuLrnq6/ngrlwMlxyXG4gICAgICAgICAgICBbXCJhcmNUb1wiLCAwLCA4LCA0LCA4LCA0XSxcclxuICAgICAgICAgICAgW1wibGluZVRvXCIsIDQsIDhdLFxyXG4gICAgICAgICAgICBbXCJhcmNUb1wiLCA4LCA4LCA4LCA0LCA0XSxcclxuICAgICAgICAgICAgW1wiYXJjVG9cIiwgOCwgMCwgNCwgMCwgNF0sXHJcbiAgICAgICAgICAgIFtcImxpbmVUb1wiLCA0LCAwXVxyXG4gICAgICAgIF07XHJcbiAgICAgICAgbG9hZFRpYW8uZ3JhcGhpY3MuZHJhd1BhdGgoKHBhZ2VXaWR0aCAtIDIwOCkgLyAyICsgNCwgTWF0aC5yb3VuZChwYWdlSGVpZ2h0IC8gMi41KSAtIDYsIHBhdGgsIHsgZmlsbFN0eWxlOiBcIiM0ODkyYjNcIiB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvL+WKoOi9vemdmeaAgei1hOa6kOWujOaIkO+8jOW8gOWni+WIneWni+WMlua4uOaIj1xyXG4gICAgZnVuY3Rpb24gaW5pdCgpIHtcclxuICAgICAgICBjbGVhckxvYWRpbmcoKVxyXG4gICAgICAgIGNvbnNvbGUubG9nKCfliJ3lp4vljJbmuLjmiI8nKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhEcmF3R2FtZSk7XHJcbiAgICAgICAgbmV3IERyYXdHYW1lKCk7XHJcbiAgICAgICAgLy8gTGF5YS5zdGFnZS5vbihFdmVudC5LRVlfRE9XTiwgdGhpcywgZnVuY3Rpb24oKXtcclxuICAgICAgICAvLyAgICAgY29uc29sZS5sb2coJ+aMieS4i+S6hicpXHJcbiAgICAgICAgLy8gfSk7XHJcblxyXG4gICAgICAgIC8vIOaSreaUvmJnbVxyXG4gICAgICAgIC8vIFNvdW5kTWFuYWdlci5wbGF5TXVzaWMoXCJodHRwOi8vcDcwZ3ptMnNtLmJrdC5jbG91ZGRuLmNvbS90cm91Z2h0cy5tcDNcIiwgMSwgbmV3IEhhbmRsZXIodGhpcywgb25Db21wbGV0ZSkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIFxyXG4gICAgZnVuY3Rpb24gb25Db21wbGV0ZSgpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIuaSreaUvuWujOaIkFwiKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDliqDovb3ov5vluqbkvqblkKzlmahcclxuICAgIGZ1bmN0aW9uIG9uTG9hZGluZyhwcm9ncmVzcykge1xyXG4gICAgICAgIHByb2dyZXNzID0gTWF0aC5yb3VuZChwcm9ncmVzcyAqIDEwMCk7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcIuWKoOi9vei/m+W6pjogXCIgKyBwcm9ncmVzcyk7XHJcbiAgICAgICAgLy8gbG9hZFRpYW8uZ3JhcGhpY3MuY2xlYXIoKTtcclxuICAgICAgICB2YXIgT25lUGVyY2VudCA9ICgxOTIgLSA0KSAvIDEwMDsvL+avj+eZvuWIhuS5i+S4gOi/m+W6pueahOi3neemu1xyXG4gICAgICAgIHZhciBhZGRQZXJjZW50ID0gTWF0aC5yb3VuZChwcm9ncmVzcyAqIE9uZVBlcmNlbnQpOy8v6ZyA6KaB5aKe5Yqg55qE55m+5YiG5q+UXHJcbiAgICAgICAgdmFyIHBhdGggPSBbXHJcbiAgICAgICAgICAgIFtcIm1vdmVUb1wiLCA0LCAwXSwgLy/nlLvnrJTnmoTotbflp4vngrnvvIxcclxuICAgICAgICAgICAgW1wiYXJjVG9cIiwgMCwgMCwgMCwgNCwgNF0sIC8vcDHvvIg1MDAsMO+8ieS4uuWkueinkkLvvIzvvIg1MDAsMzDvvInkuLrnq6/ngrlwMlxyXG4gICAgICAgICAgICBbXCJhcmNUb1wiLCAwLCA4LCA0LCA4LCA0XSxcclxuICAgICAgICAgICAgW1wibGluZVRvXCIsIDE5MiwgOF0sXHJcbiAgICAgICAgICAgIFtcImFyY1RvXCIsIDIwMCwgOCwgMjAwLCA0LCA0XSxcclxuICAgICAgICAgICAgW1wiYXJjVG9cIiwgMjAwLCAwLCAxOTIsIDAsIDRdLFxyXG4gICAgICAgICAgICBbXCJsaW5lVG9cIiwgNCwgMF1cclxuICAgICAgICBdO1xyXG4gICAgICAgIHZhciBwYXRoID0gW1xyXG4gICAgICAgICAgICBbXCJtb3ZlVG9cIiwgNCwgMF0sIC8v55S756yU55qE6LW35aeL54K577yMXHJcbiAgICAgICAgICAgIFtcImFyY1RvXCIsIDAsIDAsIDAsIDQsIDRdLCAvL3Ax77yINTAwLDDvvInkuLrlpLnop5JC77yM77yINTAwLDMw77yJ5Li656uv54K5cDJcclxuICAgICAgICAgICAgW1wiYXJjVG9cIiwgMCwgOCwgNCwgOCwgNF0sXHJcbiAgICAgICAgICAgIFtcImxpbmVUb1wiLCA0ICsgYWRkUGVyY2VudCwgOF0sXHJcbiAgICAgICAgICAgIFtcImFyY1RvXCIsIDggKyBhZGRQZXJjZW50LCA4LCA4ICsgYWRkUGVyY2VudCwgNCwgNF0sXHJcbiAgICAgICAgICAgIFtcImFyY1RvXCIsIDggKyBhZGRQZXJjZW50LCAwLCA0ICsgYWRkUGVyY2VudCwgMCwgNF0sXHJcbiAgICAgICAgICAgIFtcImxpbmVUb1wiLCA0LCAwXVxyXG4gICAgICAgIF07XHJcbiAgICAgICAgbG9hZFRpYW8uZ3JhcGhpY3MuZHJhd1BhdGgoKHBhZ2VXaWR0aCAtIDIwOCkgLyAyICsgNCwgTWF0aC5yb3VuZChwYWdlSGVpZ2h0IC8gMi41KSAtIDYsIHBhdGgsIHsgZmlsbFN0eWxlOiBcIiM0ODkyYjNcIiB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDmuIXpmaTmu5rliqjmnaFcclxuICAgIGZ1bmN0aW9uIGNsZWFyTG9hZGluZygpIHtcclxuICAgICAgICBsb2FkVGlhby5ncmFwaGljcy5jbGVhcigpO1xyXG4gICAgICAgIGxvYWRCRy5ncmFwaGljcy5jbGVhcigpO1xyXG4gICAgfVxyXG5cclxuICAgIC8v5omT5Y2w5Yqg6L295aSx6LSl5pel5b+XXHJcbiAgICBmdW5jdGlvbiBvbkVycm9yKGVycikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwi5Yqg6L295aSx6LSlOiBcIiArIGVycik7XHJcbiAgICB9XHJcblxyXG59KSgpOyIsIi8vIOWIm+W7uuS4u+a4uOaIj+WcuuaZr1xuaW1wb3J0IERSQVcgZnJvbSAnLi4vbGliL2dyYXBoaWNzJztcbmltcG9ydCBHYW1lQ29uZmlnIGZyb20gXCIuLi9HYW1lQ29uZmlnXCI7XG5pbXBvcnQgeyBnZXROdW0gfSBmcm9tIFwiLi4vbGliL2dhbWVEYXRhXCI7XG5cbnZhciBTcHJpdGUgPSBMYXlhLlNwcml0ZTtcbnZhciBTdGFnZSA9IExheWEuU3RhZ2U7XG52YXIgQnJvd3NlciA9IExheWEuQnJvd3NlcjtcbnZhciBIYW5kbGVyID0gTGF5YS5IYW5kbGVyO1xudmFyIFdlYkdMID0gTGF5YS5XZWJHTDtcbnZhciBFdmVudCA9IExheWEuRXZlbnQ7XG52YXIgTG9hZGVyID0gTGF5YS5Mb2FkZXI7XG52YXIgVHdlZW4gPSBMYXlhLlR3ZWVuO1xudmFyIEVhc2UgPSBMYXlhLkVhc2U7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERyYXdHYW1lIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgLy8g57uY5Zu+55u45YWz55qE5bGe5oCnXG4gICAgICAgIHRoaXMueCA9IDQwO1xuICAgICAgICB0aGlzLnkgPSAzMDA7XG4gICAgICAgIHRoaXMuY29sID0gNDtcbiAgICAgICAgdGhpcy5yb3cgPSA0O1xuICAgICAgICB0aGlzLmdhYiA9IDIwO1xuICAgICAgICB0aGlzLnRXaWR0aCA9IDc1MCAtIDIgKiB0aGlzLng7Ly/moYzpnaLlrr3luqZcbiAgICAgICAgdGhpcy5pV2lkdGggPSAodGhpcy50V2lkdGggLSAodGhpcy5yb3cgKyAxKSAqIHRoaXMuZ2FiKSAvIHRoaXMucm93Oy8v5Y2V5Liq55qE6auY5bqmXG4gICAgICAgIHRoaXMudEhlaWdodCA9IHRoaXMuaVdpZHRoICogdGhpcy5jb2wgKyAodGhpcy5jb2wgKyAxKSAqIHRoaXMuZ2FiO1xuICAgICAgICAvLyB0aGlzLnNwSXRlbTtcbiAgICAgICAgdGhpcy5pdGVtc1Nwcml0ZSA9IFtdOy8v5a2Y5pS+5a6r5qC855qEU3ByaXRlXG5cbiAgICAgICAgLy8g5ri45oiP5pWw5o2uXG4gICAgICAgIHRoaXMubnVtID0gJzAxMTAxMDAxMTAwMTEwMTAxMDAwMTAxMDExMDEwMTAxMDEwMDAwMTAxMDEwMTAwMTAxMDAxMDEwMTAxMDEwMDEwMTAxMDEwMTAxMDEwMTAxMDEwMTAxMDEwMSc7XG4gICAgICAgIHRoaXMubnVtRGF0YSA9IGdldE51bSh0aGlzLm51bSk7XG5cbiAgICAgICAgdGhpcy5hcnIgPSBbXTtcbiAgICAgICAgdGhpcy5wTm93ID0gWzAsIDBdO1xuXG4gICAgICAgIC8vIOa4uOaIj+S6pOS6klxuICAgICAgICB0aGlzLnN0YXJ0UCA9IFtdO1xuICAgICAgICAvLyDov5DooYxcbiAgICAgICAgdGhpcy5pbml0KCk7XG4gICAgfVxuICAgIGluaXQoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCfmiafooYxpbml0Jyk7XG4gICAgICAgIHRoaXMuZHJhd1BsYWNlKClcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNvbDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmFycltpXSA9IFtdO1xuICAgICAgICAgICAgdGhpcy5pdGVtc1Nwcml0ZVtpXSA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0aGlzLnJvdzsgaisrKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hcnJbaV1bal0gPSB0aGlzLm51bURhdGFbaSAqIHRoaXMucm93ICsgal07XG4gICAgICAgICAgICAgICAgLy8g5Yib5bu65a6r5qC86Iie5Y+wXG4gICAgICAgICAgICAgICAgdGhpcy5pdGVtc1Nwcml0ZVtpXVtqXSA9IG5ldyBTcHJpdGUoKTtcbiAgICAgICAgICAgICAgICBMYXlhLnN0YWdlLmFkZENoaWxkKHRoaXMuaXRlbXNTcHJpdGVbaV1bal0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuYXJyKVxuICAgICAgICB0aGlzLmRyYXdUYWJsZSh0cnVlKVxuICAgICAgICB0aGlzLmRyYXdUb3BCdXR0b24oKVxuICAgIH1cbiAgICAvKipcbiAgICAgKiDnu5jliLbnlLvluINcbiAgICAgKi9cblxuICAgIC8vIOeUu+iDjOaZr+WbvlxuICAgIGRyYXdQbGFjZSgpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ+aJp+ihjGRyYXcnKTtcbiAgICAgICAgdmFyIGJnID0gbmV3IExheWEuU3ByaXRlKCk7XG4gICAgICAgIGJnLnNpemUodGhpcy50V2lkdGgsIHRoaXMudEhlaWdodCAqIDIpOy8v5LiA5a6a6KaB6K6+572uc2l6ZeaJjeiDveebkeaOp+S6i+S7tiBcbiAgICAgICAgTGF5YS5zdGFnZS5hZGRDaGlsZChiZyk7XG4gICAgICAgIC8vIOeUu+WchuinkuefqeW9olxuICAgICAgICBiZy5ncmFwaGljcy5hbHBoYSgwLjgpXG4gICAgICAgIERSQVcuZHJhd1JvdW5kZWRSZWN0YW5nbGUoYmcsIHRoaXMueCwgdGhpcy55LCB0aGlzLnRXaWR0aCwgdGhpcy50SGVpZ2h0LCB0aGlzLmdhYiwgJyM0MTI4NzMnKTtcbiAgICAgICAgLy8g57uR5a6a5LqL5Lu2XG4gICAgICAgIC8vIGJnLm9uKClcbiAgICAgICAgYmcub24oRXZlbnQuTU9VU0VfTU9WRSwgdGhpcywgdGhpcy5vbk1vdXNlTW92ZSk7XG4gICAgICAgIGJnLm9uKEV2ZW50Lk1PVVNFX0RPV04sIHRoaXMsIHRoaXMub25Nb3VzZURvd24pO1xuICAgICAgICBiZy5vbihFdmVudC5NT1VTRV9VUCwgdGhpcywgdGhpcy5vbk1vdXNlVXApO1xuICAgICAgICAvL+a3u+WKoOmUruebmOaKrOi1t+S6i+S7tlxuICAgICAgICBMYXlhLnN0YWdlLm9uKEV2ZW50LktFWV9VUCwgdGhpcywgdGhpcy5vbktleVVwKTsgOVxuICAgIH1cblxuICAgIC8vIOeUu+mhtumDqOaMiemSrlxuICAgIGRyYXdUb3BCdXR0b24oKSB7XG4gICAgICAgIGxldCB0b3BTcCA9IG5ldyBTcHJpdGUoKTtcbiAgICAgICAgTGF5YS5zdGFnZS5hZGRDaGlsZCh0b3BTcCk7XG4gICAgICAgIHRvcFNwLmdyYXBoaWNzLmRyYXdSZWN0KDAsIDAsIDc1MCwgMTIwLCBcIiM0ZDJmOGFcIik7XG4gICAgICAgIC8vIOe7mOWItuWIt+aWsOaMiemSrlxuICAgICAgICBsZXQgcmVmcmVzaFNwID0gbmV3IFNwcml0ZSgpO1xuICAgICAgICBMYXlhLnN0YWdlLmFkZENoaWxkKHJlZnJlc2hTcCk7XG4gICAgICAgIHRoaXMucmVmcmVzaFxuICAgICAgICByZWZyZXNoU3AubG9hZEltYWdlKCdhc3NldHMvaW1hZ2VzL3JlZnJlc2hfYnRuLnBuZycpO1xuICAgICAgICByZWZyZXNoU3AucG9zKDY0NSwgMTUpO1xuICAgICAgICByZWZyZXNoU3Auc2l6ZSg5MCwgOTApO1xuICAgICAgICByZWZyZXNoU3Aub24oJ2NsaWNrJywgdGhpcywgdGhpcy5yZWZyZXNoKVxuXG4gICAgICAgIGxldCByZXR1cm5TcCA9IG5ldyBTcHJpdGUoKTtcbiAgICAgICAgTGF5YS5zdGFnZS5hZGRDaGlsZChyZXR1cm5TcCk7XG4gICAgICAgIHJldHVyblNwLmxvYWRJbWFnZSgnYXNzZXRzL2ltYWdlcy9yZXR1cm5fYnRuLnBuZycpO1xuICAgICAgICByZXR1cm5TcC5wb3MoMTUsIDE1KTtcbiAgICAgICAgcmV0dXJuU3Auc2l6ZSg5MCwgOTApO1xuICAgICAgICByZXR1cm5TcC5vbignY2xpY2snLCB0aGlzLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygn54K55oiR77yBYWEnKVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIC8vIOeUu+Wuq+agvFxuICAgIGRyYXdUYWJsZShmaXJzdCA9IGZhbHNlKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jb2w7IGkrKykge1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0aGlzLnJvdzsgaisrKSB7XG4gICAgICAgICAgICAgICAgbGV0IHggPSB0aGlzLnggKyBqICogKHRoaXMuaVdpZHRoICsgdGhpcy5nYWIpICsgdGhpcy5nYWIsIHkgPSB0aGlzLnkgKyBpICogKHRoaXMuaVdpZHRoICsgdGhpcy5nYWIpICsgdGhpcy5nYWI7XG4gICAgICAgICAgICAgICAgbGV0IHVybCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgaWYgKGogPT0gdGhpcy5wTm93WzBdICYmIGkgPT0gdGhpcy5wTm93WzFdKSB7XG4gICAgICAgICAgICAgICAgICAgIHVybCA9IHRoaXMuYXJyW2ldW2pdLm51bSA9PSAnMCcgPyAnYXNzZXRzL2ltYWdlcy9pdGVtLTAtYWN0aXZlLnBuZycgOiAnYXNzZXRzL2ltYWdlcy9pdGVtLTEtYWN0aXZlLnBuZyc7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLmFycltpXVtqXS5pc1VzZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdXJsID0gJ2Fzc2V0cy9pbWFnZXMvaXRlbS0xLWxvY2sucG5nJ1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHVybCA9IHRoaXMuYXJyW2ldW2pdLm51bSA9PSAnMCcgPyAnYXNzZXRzL2ltYWdlcy9pdGVtLTAucG5nJyA6ICdhc3NldHMvaW1hZ2VzL2l0ZW0tMS5wbmcnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLml0ZW1zU3ByaXRlW2ldW2pdLmdyYXBoaWNzLmNsZWFyKCk7XG4gICAgICAgICAgICAgICAgLy8gRFJBVy5kcmF3Um91bmRlZFJlY3RhbmdsZSh0aGlzLnNwSXRlbSwgeCwgeSwgdGhpcy5pV2lkdGgsIHRoaXMuaVdpZHRoLCAxNSwgY29sb3IpXG4gICAgICAgICAgICAgICAgdGhpcy5pdGVtc1Nwcml0ZVtpXVtqXS5sb2FkSW1hZ2UodXJsKTtcbiAgICAgICAgICAgICAgICB0aGlzLml0ZW1zU3ByaXRlW2ldW2pdLnBvcyh4LCB5KTtcbiAgICAgICAgICAgICAgICB0aGlzLml0ZW1zU3ByaXRlW2ldW2pdLnNpemUodGhpcy5pV2lkdGgsIHRoaXMuaVdpZHRoKTtcblxuXG4gICAgICAgICAgICAgICAgLy8g5Yqo55S7XG4gICAgICAgICAgICAgICAgLy8gdGFyZ2V0OiosIHByb3BzOk9iamVjdCwgZHVyYXRpb246aW50LCBlYXNlOkZ1bmN0aW9uID0gbnVsbCwgY29tcGxldGU6SGFuZGxlciA9IG51bGwsIGRlbGF5OmludCA9IDAsIGNvdmVyQmVmb3JlOkJvb2xlYW4gPSBmYWxzZVxuICAgICAgICAgICAgICAgIGlmIChmaXJzdCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLml0ZW1zU3ByaXRlW2ldW2pdLmFscGhhID0gMFxuICAgICAgICAgICAgICAgICAgICBUd2Vlbi5mcm9tKHRoaXMuaXRlbXNTcHJpdGVbaV1bal0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNjYWxlOiAoMC41LDAuNSwyMDAsMjAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8geToxMFxuICAgICAgICAgICAgICAgICAgICAgICAgc2NhbGVZOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2NhbGVYOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGl2b3RYOiB0aGlzLmlXaWR0aCAqIDAuNSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBpdm90WTogdGhpcy5pV2lkdGggKiAwLjUsXG4gICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTogMFxuICAgICAgICAgICAgICAgICAgICB9LCAyNTAsIEVhc2UuZXhwb091dCwgbnVsbCwgaSAqIDEwMCAqIHRoaXMucm93ICsgaiAqIDEwMClcblxuICAgICAgICAgICAgICAgICAgICBUd2Vlbi50byh0aGlzLml0ZW1zU3ByaXRlW2ldW2pdLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY2FsZVk6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBzY2FsZVg6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBhbHBoYTogMVxuICAgICAgICAgICAgICAgICAgICB9LCAyNTAsIEVhc2UuZXhwb091dCwgbnVsbCwgaSAqIDEwMCAqIHRoaXMucm93ICsgaiAqIDEwMClcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuanVkZ2VTdWNjZXNzKCk7XG4gICAgICAgIH0sIDEwMClcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiDplK7nm5jkuovku7ZcbiAgICAgKi9cblxuICAgIG9uS2V5VXAoZSkge1xuICAgICAgICAvLyBkZWxldGUga2V5RG93bkxpc3RbZVtcImtleUNvZGVcIl1dO1xuICAgICAgICBsZXQgZGlyZWN0aW9uID0gXCJcIjtcbiAgICAgICAgc3dpdGNoIChlLmtleUNvZGUpIHtcbiAgICAgICAgICAgIGNhc2UgMzc6IGRpcmVjdGlvbiA9ICdsZWZ0JzsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM4OiBkaXJlY3Rpb24gPSAndG9wJzsgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM5OiBkaXJlY3Rpb24gPSAncmlnaHQnOyBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNDA6IGRpcmVjdGlvbiA9ICdkb3duJzsgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY29uc29sZS5sb2coJ2RpcmVjdGlvbiBpcyAnICsgZGlyZWN0aW9uKVxuICAgICAgICBpZiAoZGlyZWN0aW9uKSB0aGlzLm1vdmVCbG9jayhkaXJlY3Rpb24pXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog5omL5py65ruR5Yqo5LqL5Lu2XG4gICAgICovXG4gICAgb25Nb3VzZURvd24ocGFyYW1zKSB7XG4gICAgICAgIHRoaXMuc3RhcnRQID0gW0xheWEuc3RhZ2UubW91c2VYLCBMYXlhLnN0YWdlLm1vdXNlWV07XG4gICAgfVxuICAgIG9uTW91c2VVcCgpIHtcbiAgICAgICAgbGV0IGVuZFAgPSBbTGF5YS5zdGFnZS5tb3VzZVgsIExheWEuc3RhZ2UubW91c2VZXTtcbiAgICAgICAgbGV0IGRpcmVjdGlvbiA9IFwiXCI7XG4gICAgICAgIGxldCBtb3ZlWCA9IGVuZFBbMF0gLSB0aGlzLnN0YXJ0UFswXTtcbiAgICAgICAgbGV0IG1vdmVZID0gZW5kUFsxXSAtIHRoaXMuc3RhcnRQWzFdO1xuICAgICAgICBpZiAoTWF0aC5hYnMobW92ZVgpID4gTWF0aC5hYnMobW92ZVkpKSB7XG4gICAgICAgICAgICBpZiAoTWF0aC5hYnMobW92ZVgpID4gODApIGRpcmVjdGlvbiA9IG1vdmVYID4gMCA/ICdyaWdodCcgOiAnbGVmdCc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoTWF0aC5hYnMobW92ZVkpID4gODApIGRpcmVjdGlvbiA9IG1vdmVZID4gMCA/ICdkb3duJyA6ICd0b3AnO1xuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUubG9nKGRpcmVjdGlvbiwgbW92ZVgsIG1vdmVZKVxuICAgICAgICBpZiAoZGlyZWN0aW9uKSB0aGlzLm1vdmVCbG9jayhkaXJlY3Rpb24pXG4gICAgfVxuICAgIG9uTW91c2VNb3ZlKGUpIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coZSlcbiAgICAgICAgLy8gY29uc29sZS5sb2coTGF5YS5zdGFnZS5tb3VzZVgpXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICog6YC76L6R5aSE55CGXG4gICAgICovXG5cbiAgICBtb3ZlQmxvY2soZGlyZWN0aW9uKSB7XG5cbiAgICAgICAgbGV0IGIgPSB0aGlzLnBOb3dbMF0sXG4gICAgICAgICAgICBhID0gdGhpcy5wTm93WzFdO1xuICAgICAgICAvLyB0aGlzLmFyclthXVtiXSA9IHRoaXMuYXJyW2FdW2JdID09IFwiMVwiID8gXCIwXCIgOiBcIjFcIjtcbiAgICAgICAgaWYgKGRpcmVjdGlvbiA9PSBcImRvd25cIikge1xuICAgICAgICAgICAgaWYgKHRoaXMucE5vd1sxXSA+PSB0aGlzLmNvbCAtIDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnBOb3dbMV0rKztcbiAgICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT0gXCJ0b3BcIikge1xuICAgICAgICAgICAgaWYgKHRoaXMucE5vd1sxXSA8PSAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5wTm93WzFdLS07XG4gICAgICAgIH0gZWxzZSBpZiAoZGlyZWN0aW9uID09IFwicmlnaHRcIikge1xuICAgICAgICAgICAgaWYgKHRoaXMucE5vd1swXSA+PSB0aGlzLnJvdyAtIDEpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnBOb3dbMF0rKztcbiAgICAgICAgfSBlbHNlIGlmIChkaXJlY3Rpb24gPT0gXCJsZWZ0XCIpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnBOb3dbMF0gPD0gMCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMucE5vd1swXS0tO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGogPSB0aGlzLnBOb3dbMF0sXG4gICAgICAgICAgICBpID0gdGhpcy5wTm93WzFdO1xuICAgICAgICBpZiAodGhpcy5hcnJbaV1bal0uaXNVc2VkKSB7XG4gICAgICAgICAgICB0aGlzLnBOb3dbMF0gPSBiO1xuICAgICAgICAgICAgdGhpcy5wTm93WzFdID0gYTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYXJyW2ldW2pdLm51bSA9IHRoaXMuYXJyW2ldW2pdLm51bSA9PSBcIjFcIiA/IFwiMFwiIDogXCIxXCI7XG4gICAgICAgIHRoaXMuYXJyW2ldW2pdLmlzVXNlZCA9IHRoaXMuYXJyW2ldW2pdLm51bSA9PSBcIjFcIiA/IHRydWUgOiBmYWxzZTtcbiAgICAgICAgdGhpcy5kcmF3VGFibGUoKTtcbiAgICB9XG4gICAgLy8g5Yik5pat5piv5ZCm5aSx6LSl5Lul5Y+K5oiQ5YqfXG4gICAganVkZ2VTdWNjZXNzKCkge1xuICAgICAgICAvLyDliKTmlq3mmK/lkKbotaLkuobnmoTpgLvovpFcbiAgICAgICAgbGV0IGlzV2luID0gdGhpcy5hcnIuZXZlcnkoaXRlbXMgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGl0ZW1zLmV2ZXJ5KGl0ZW0gPT4gaXRlbS5udW0gPT0gJzEnKVxuICAgICAgICB9KVxuICAgICAgICBpZiAoaXNXaW4pIHtcbiAgICAgICAgICAgIGFsZXJ0KCfkvaDotaLkuobvvIEnKTtcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8g6aqM6K+B5piv5ZCm5aSx6LSlXG4gICAgICAgICAgICBsZXQgaiA9IHRoaXMucE5vd1swXSxcbiAgICAgICAgICAgICAgICBpID0gdGhpcy5wTm93WzFdO1xuICAgICAgICAgICAgaWYgKChpICsgMSA8IHRoaXMuY29sICYmICF0aGlzLmFycltpICsgMV1bal0uaXNVc2VkKSB8fFxuICAgICAgICAgICAgICAgIChqICsgMSA8IHRoaXMucm93ICYmICF0aGlzLmFycltpXVtqICsgMV0uaXNVc2VkKSB8fFxuICAgICAgICAgICAgICAgIChpIC0gMSA+PSAwICYmICF0aGlzLmFycltpIC0gMV1bal0uaXNVc2VkKSB8fFxuICAgICAgICAgICAgICAgIChqIC0gMSA+PSAwICYmICF0aGlzLmFycltpXVtqIC0gMV0uaXNVc2VkKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYWxlcnQoJ+S9oOi+k+S6hu+8gScpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICAvLyDph43nva7muLjmiI9cbiAgICByZWZyZXNoKCkge1xuICAgICAgICB0aGlzLnBOb3cgPSBbMCwgMF07XG4gICAgICAgIHRoaXMubnVtRGF0YSA9IGdldE51bSh0aGlzLm51bSk7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jb2w7IGkrKykge1xuICAgICAgICAgICAgdGhpcy5hcnJbaV0gPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdGhpcy5yb3c7IGorKykge1xuICAgICAgICAgICAgICAgIC8vIHRoaXMuYXJyW2ldW2pdID0gdGhpcy5udW0uc2xpY2UoaSAqIHRoaXMucm93ICsgaiwgaSAqIHRoaXMucm93ICsgaiArIDEpO1xuICAgICAgICAgICAgICAgIHRoaXMuYXJyW2ldW2pdID0gdGhpcy5udW1EYXRhW2kgKiB0aGlzLnJvdyArIGpdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZHJhd1RhYmxlKHRydWUpXG4gICAgfVxufSIsImZ1bmN0aW9uIGdldE51bShudW0pIHtcbiAgICBsZXQgYXJyID0gbnVtLnNwbGl0KCcnKTtcbiAgICByZXR1cm4gYXJyLm1hcChpdGVtID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG51bTogaXRlbSxcbiAgICAgICAgICAgIGlzVXNlZDogZmFsc2VcbiAgICAgICAgfVxuICAgIH0pXG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGdldE51bTogZ2V0TnVtXG59IiwiLy8g5bCB6KOF5ZCE56eN5b2i54q2XG5leHBvcnQgZGVmYXVsdCB7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHNwIFNwcml0ZeWunuS+i1xuICAgICAqIEBwYXJhbSB4IOi1t+Wni3jlnZDmoIdcbiAgICAgKiBAcGFyYW0geSDotbflp4t55Z2Q5qCHXG4gICAgICogQHBhcmFtIHdpZHRoIOaAu+mVv1xuICAgICAqIEBwYXJhbSBoZWlnaHQg5oC76auYXG4gICAgICogQHBhcmFtIHIg5ZyG6KeS5Y2K5b6EXG4gICAgICogQHBhcmFtIG9wdGlvbnMg6YWN572u6aG5XG4gICAgICovXG4gICAgZHJhd1JvdW5kZWRSZWN0YW5nbGU6IGZ1bmN0aW9uIChzcCwgeCwgeSwgd2lkdGgsIGhlaWdodCwgciwgZmlsbCkge1xuICAgICAgICB2YXIgcmVsV2lkdGggPSB3aWR0aCAtIDIgKiByO1xuICAgICAgICB2YXIgcmVsSGVpZ2h0ID0gaGVpZ2h0IC0gMiAqIHI7XG4gICAgICAgIHNwLmdyYXBoaWNzLmRyYXdQYXRoKHgsIHksIFtcbiAgICAgICAgICAgIFtcIm1vdmVUb1wiLCByLCAwXSxcbiAgICAgICAgICAgIFtcImxpbmVUb1wiLCB3aWR0aCAtIHIsIDBdLFxuICAgICAgICAgICAgW1wiYXJjVG9cIiwgd2lkdGgsIDAsIHdpZHRoLCByLCByXSxcbiAgICAgICAgICAgIFtcImxpbmVUb1wiLCB3aWR0aCwgaGVpZ2h0IC0gcl0sXG4gICAgICAgICAgICBbXCJhcmNUb1wiLCB3aWR0aCwgaGVpZ2h0LCB3aWR0aCAtIHIsIGhlaWdodCwgcl0sXG4gICAgICAgICAgICBbXCJsaW5lVG9cIiwgciwgaGVpZ2h0XSxcbiAgICAgICAgICAgIFtcImFyY1RvXCIsIDAsIGhlaWdodCwgMCwgaGVpZ2h0IC0gciwgcl0sXG4gICAgICAgICAgICBbXCJsaW5lVG9cIiwgMCwgcl0sXG4gICAgICAgICAgICBbXCJhcmNUb1wiLCAwLCAwLCByLCAwLCByXSxcbiAgICAgICAgICAgIFtcImNsb3NlUGF0aFwiXVxuICAgICAgICBdLCB7XG4gICAgICAgICAgICBmaWxsU3R5bGU6ZmlsbHx8JyNmZjAwMDAnXG4gICAgICAgIH0sKVxuICAgIH1cbn1cblxuIl19
